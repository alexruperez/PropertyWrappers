<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SecurePropertyStorage  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="SecurePropertyStorage  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          SecurePropertyStorage Docs
        </a>
         (100% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/alexruperez/SecurePropertyStorage">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Falexruperez%2Egithub%2Eio%2Fdocsets%2FSecurePropertyStorage%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">SecurePropertyStorage Reference</a>
      <img class="carat" src="img/carat.png" />
      SecurePropertyStorage  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CodableKeychain.html">CodableKeychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CodableSingleton.html">CodableSingleton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CodableStore.html">CodableStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CodableUserDefault.html">CodableUserDefault</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DelegatedStorage.html">DelegatedStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Inject.html">Inject</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InjectPropertyWrapper.html">InjectPropertyWrapper</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InjectPropertyWrapper/Scope.html">– Scope</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InjectStorage.html">InjectStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/InjectWith.html">InjectWith</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Keychain.html">Keychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeychainStorage.html">KeychainStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/KeychainStorageDelegate.html">KeychainStorageDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Register.html">Register</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Singleton.html">Singleton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SingletonStorage.html">SingletonStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SingletonStorageDelegate.html">SingletonStorageDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Store.html">Store</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/StorePropertyWrapper.html">StorePropertyWrapper</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedCodableKeychain.html">UnwrappedCodableKeychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedCodableSingleton.html">UnwrappedCodableSingleton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedCodableStore.html">UnwrappedCodableStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedCodableUserDefault.html">UnwrappedCodableUserDefault</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedInject.html">UnwrappedInject</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedInjectWith.html">UnwrappedInjectWith</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedKeychain.html">UnwrappedKeychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedSingleton.html">UnwrappedSingleton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedStore.html">UnwrappedStore</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UnwrappedUserDefault.html">UnwrappedUserDefault</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UserDefault.html">UserDefault</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UserDefaultsStorage.html">UserDefaultsStorage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/InjectError.html">InjectError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/KeychainError.html">KeychainError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/AES.html">AES</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/AES/GCM.html">– GCM</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/ContiguousBytes.html">ContiguousBytes</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/OSStatus.html">OSStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/SymmetricKey.html">SymmetricKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols.html#/c:@M@Inject@objc(pl)Mock">Mock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Storage.html">Storage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StorageData.html">StorageData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StorageDelegate.html">StorageDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StorePropertyWrapperProtocol.html">StorePropertyWrapperProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:6Inject9Qualifiera">Qualifier</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7Storage0A12ErrorClosurea">StorageErrorClosure</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:7Storage8StoreKeya">StoreKey</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='secure-property-storage' class='heading'>🔐 Secure Property Storage</h1>

<blockquote>
<p>Helps you define secure storages for your properties using Swift <em>property wrappers</em>.</p>
</blockquote>

<p><a href="http://twitter.com/alexruperez"><img src="https://img.shields.io/badge/contact-%40alexruperez-blue" alt="Twitter"></a>
<a href="https://swift.org"><img src="https://img.shields.io/badge/swift-5-orange" alt="Swift"></a>
<a href="LICENSE"><img src="https://img.shields.io/github/license/alexruperez/SecurePropertyStorage" alt="License"></a>
<a href="https://swift.org/package-manager"><img src="https://img.shields.io/badge/Swift%20Package%20Manager-compatible-4BC51D.svg?style=flat" alt="Swift Package Manager"></a>
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage"></a>
<a href="https://app.bitrise.io/app/4fed1af31836d3bc"><img src="https://app.bitrise.io/app/4fed1af31836d3bc/status.svg?token=bYImtoKj0hxqCxnORhdgyg&branch=master" alt="Bitrise"></a>
<a href="https://app.codacy.com/manual/alexruperez/SecurePropertyStorage"><img src="https://api.codacy.com/project/badge/Grade/53a23dd2feca4b7ca8357c918c7d49c9" alt="Quality"></a>
<a href="https://codeclimate.com/github/alexruperez/SecurePropertyStorage/maintainability"><img src="https://api.codeclimate.com/v1/badges/bbf38ddca9a26703cefd/maintainability" alt="Maintainability"></a>
<a href="https://codecov.io/gh/alexruperez/SecurePropertyStorage"><img src="https://codecov.io/gh/alexruperez/SecurePropertyStorage/branch/master/graph/badge.svg" alt="Coverage"></a>
<a href="https://alexruperez.github.io/SecurePropertyStorage"><img src="docs/badge.svg" alt="Documentation"></a></p>
<h2 id='features' class='heading'>🌟 Features</h2>

<p>All keys are hashed using <a href="https://en.wikipedia.org/wiki/SHA-2">SHA512</a> and all values are encrypted using <a href="https://en.wikipedia.org/wiki/Advanced_Encryption_Standard">AES</a>-<a href="https://en.wikipedia.org/wiki/Galois/Counter_Mode">GCM</a> to keep user information safe, auto*magic*ally.
Symmetric key and nonce, are stored in Keychain in a totally secure way. </p>
<h2 id='basic-usage' class='heading'>🐒 Basic usage</h2>
<h3 id='userdefault' class='heading'>@UserDefault</h3>

<p>This property wrapper will store your property in <a href="https://developer.apple.com/documentation/foundation/userdefaults">UserDefaults</a> using <code><a href="Typealiases.html#/s:7Storage8StoreKeya">StoreKey</a></code> (any <code>String</code> but i recommend you a String typed enum).
Optionally, you can assign a default value to the property that will be secure stored at initialization.</p>
<pre class="highlight swift"><code><span class="kd">@UserDefault(&lt;#StoreKey#&gt;)</span>
<span class="k">var</span> <span class="nv">yourProperty</span><span class="p">:</span> <span class="kt">YourType</span><span class="p">?</span> <span class="o">=</span> <span class="n">yourDefaultValueIfNeeded</span>
</code></pre>

<p><a href="Sources/UserDefault/UserDefaultsStorage.swift"><code><a href="Classes/UserDefaultsStorage.html">UserDefaultsStorage</a></code></a> is also available, a subclass of <a href="https://developer.apple.com/documentation/foundation/userdefaults"><code>UserDefaults</code></a> with all the security provided by this library, where you can customize suite name.</p>
<h3 id='keychain' class='heading'>@Keychain</h3>

<p>This property wrapper will store your property in <a href="https://developer.apple.com/documentation/security/keychain_services">Keychain</a> using <code><a href="Typealiases.html#/s:7Storage8StoreKeya">StoreKey</a></code>.</p>
<pre class="highlight swift"><code><span class="kd">@Keychain(&lt;#StoreKey#&gt;)</span>
<span class="k">var</span> <span class="nv">yourProperty</span><span class="p">:</span> <span class="kt">YourType</span><span class="p">?</span> <span class="o">=</span> <span class="n">yourDefaultValueIfNeeded</span>
</code></pre>

<p>As <code><a href="Classes/UserDefaultsStorage.html">UserDefaultsStorage</a></code>, <a href="Sources/Keychain/KeychainStorage.swift"><code><a href="Classes/KeychainStorage.html">KeychainStorage</a></code></a> is also available, where you can customize access, group and synchronize it with iCloud.</p>
<h3 id='singleton' class='heading'>@Singleton</h3>

<p>This property wrapper will store your property in a memory <a href="https://en.wikipedia.org/wiki/Singleton_pattern">singleton</a>,  every property with the same wrapper and key can access or modify the value from wherever it is.</p>
<pre class="highlight swift"><code><span class="kd">@Singleton(&lt;#StoreKey#&gt;)</span>
<span class="k">var</span> <span class="nv">yourProperty</span><span class="p">:</span> <span class="kt">YourType</span><span class="p">?</span> <span class="o">=</span> <span class="n">yourDefaultValueIfNeeded</span>
</code></pre>

<p>As <code><a href="Classes/KeychainStorage.html">KeychainStorage</a></code>, <a href="Sources/Singleton/SingletonStorage.swift"><code><a href="Classes/SingletonStorage.html">SingletonStorage</a></code></a> is also available.</p>
<h3 id='inject' class='heading'>@Inject</h3>

<p>This property wrapper is similar to <code>@Singleton</code> but, together with <code>@Register</code>, will inject your dependencies. More details in <a href="#-dependency-injection-usage">Dependency Injection usage</a> guide.</p>
<pre class="highlight swift"><code><span class="kd">@Inject</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">?</span>
</code></pre>

<p>As <code><a href="Classes/SingletonStorage.html">SingletonStorage</a></code>, <a href="Sources/Inject/InjectStorage.swift"><code><a href="Classes/InjectStorage.html">InjectStorage</a></code></a> is also available.</p>
<h3 id='store' class='heading'>@Store</h3>

<p>This is a custom wrapper, you can define your own <a href="Sources/Storage/Storage.swift"><code><a href="Protocols/Storage.html">Storage</a></code></a> protocol implementation.</p>
<pre class="highlight swift"><code><span class="kd">@Store(&lt;#YourStorage#&gt;, &lt;#StoreKey#&gt;)</span>
<span class="k">var</span> <span class="nv">yourProperty</span><span class="p">:</span> <span class="kt">YourType</span><span class="p">?</span> <span class="o">=</span> <span class="n">yourDefaultValueIfNeeded</span>
</code></pre>

<p>As <code><a href="Classes/InjectStorage.html">InjectStorage</a></code>, <a href="Sources/Storage/DelegatedStorage.swift"><code><a href="Classes/DelegatedStorage.html">DelegatedStorage</a></code></a> is also available with all the magic of this library.</p>
<h2 id='️-codable-usage' class='heading'>🧙‍♂️ Codable usage</h2>

<p>If your property conforms <a href="https://developer.apple.com/documentation/swift/codable"><code>Codable</code></a> protocol, just add <code>Codable</code> keyword as prefix of your property wrapper.</p>

<ul>
<li><strong>@CodableUserDefault</strong></li>
<li><strong>@CodableKeychain</strong></li>
<li><strong>@CodableSingleton</strong></li>
<li><strong>@CodableStore</strong></li>
</ul>
<h2 id='unwrapped-usage' class='heading'>🥡 Unwrapped usage</h2>

<p>To avoid continually unwrapping your property, just add <code>Unwrapped</code> keyword as prefix of your property wrapper, assign a default value (mandatory except for <code>@UnwrappedInject</code>), and it will return stored value or default value, but your property will always be there for you.</p>

<ul>
<li><strong>@UnwrappedUserDefault</strong></li>
<li><strong>@UnwrappedKeychain</strong></li>
<li><strong>@UnwrappedSingleton</strong></li>
<li><strong>@UnwrappedInject</strong></li>
<li><strong>@UnwrappedStore</strong></li>
</ul>
<h2 id='️-combo-usage' class='heading'>🥡 + 🧙‍♂️ Combo usage</h2>

<p>You can also combine previous cases in case you need it, unwrapped first please.</p>

<ul>
<li><strong>@UnwrappedCodableUserDefault</strong></li>
<li><strong>@UnwrappedCodableKeychain</strong></li>
<li><strong>@UnwrappedCodableSingleton</strong></li>
<li><strong>@UnwrappedCodableStore</strong></li>
</ul>
<h2 id='dependency-injection-usage' class='heading'>💉 Dependency Injection usage</h2>

<ul>
<li><strong>@Register</strong></li>
</ul>

<p>This property wrapper will register the implementations of your dependencies.
Register them wherever you want before inject it, but be sure to do it only once (except if you use <a href="#qualifiers">qualifiers</a>), for example, in an <code>Injector</code> class.
You can register through a protocol or directly using your class implementation.</p>
<pre class="highlight swift"><code><span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span> <span class="o">=</span> <span class="kt">YourImplementation</span><span class="p">()</span>

<span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span> <span class="o">=</span> <span class="kt">YourImplementation</span><span class="p">()</span>
</code></pre>

<p>You can also define a closure that builds your dependency.
Just remember cast your dependency if you are going to inject it through a protocol.</p>
<pre class="highlight swift"><code><span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">YourImplementation</span><span class="p">()</span> <span class="k">as</span> <span class="kt">YourProtocol</span>
<span class="p">}</span>

<span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">YourImplementation</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>

<ul>
<li><strong>@Inject</strong> and <strong>@UnwrappedInject</strong></li>
</ul>

<p>These property wrappers injects your dependencies <code>@Register</code> implementations.</p>
<pre class="highlight swift"><code><span class="kd">@Inject</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">?</span>

<span class="kd">@Inject</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourImplementation</span><span class="p">?</span>

<span class="kd">@UnwrappedInject</span>
<span class="k">var</span> <span class="nv">yourUnwrappedDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span>

<span class="kd">@UnwrappedInject</span>
<span class="k">var</span> <span class="nv">yourUnwrappedDependency</span><span class="p">:</span> <span class="kt">YourImplementation</span>
</code></pre>
<h4 id='scope' class='heading'>Scope</h4>

<p>Because these property wrappers works similarly to <code>@Singleton</code>, the default scope is <code>.singleton</code>, but if you use builder closures on <code>@Register</code>, you can modify them to inject a single instance.</p>
<pre class="highlight swift"><code><span class="kd">@Inject(.instance)</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">?</span>

<span class="kd">@UnwrappedInject(.instance)</span>
<span class="k">var</span> <span class="nv">yourUnwrappedDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span>
</code></pre>

<ul>
<li><strong>@InjectWith</strong> and <strong>@UnwrappedInjectWith</strong></li>
</ul>

<p>Your dependency may need parameters when injecting, you can pass them with these property wrappers.
Simply define a model with your dependency parameters  and pass it.
It will inject a new instance built with these parameters.</p>
<pre class="highlight swift"><code><span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span> <span class="o">=</span> <span class="p">{</span> <span class="n">parameters</span> <span class="k">in</span>
    <span class="kt">YourImplementation</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="k">as</span> <span class="kt">YourProtocol</span>
<span class="p">}</span>

<span class="kd">@Inject(YourParameters()</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">?</span>

<span class="kd">@UnwrappedInject(YourParameters()</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">yourUnwrappedDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span>
</code></pre>
<h3 id='qualifiers' class='heading'>Qualifiers</h3>

<p>You can use <a href="https://javaee.github.io/tutorial/cdi-basic006.html">qualifiers</a> to provide various implementations of a particular dependency. A qualifier is just a <code>@objc protocol</code> that you apply to a <code>class</code>.</p>

<p>For example, you could declare <code>Dog</code> and <code>Cat</code> qualifier protocols and apply it to another class that conforms <code>Animal</code> protocol. To declare this qualifier, use the following code:</p>
<pre class="highlight swift"><code><span class="kd">protocol</span> <span class="kt">Animal</span> <span class="p">{</span>
  <span class="kd">func</span> <span class="nf">sound</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">@objc</span> <span class="kd">protocol</span> <span class="kt">Dog</span> <span class="p">{}</span>

<span class="kd">@objc</span> <span class="kd">protocol</span> <span class="kt">Cat</span> <span class="p">{}</span>
</code></pre>

<p>You can then define multiple classes that conforms <code>Animal</code> protocol and uses this qualifiers:</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">DogImplementation</span><span class="p">:</span> <span class="kt">Animal</span><span class="p">,</span> <span class="kt">Dog</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sound</span><span class="p">()</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="s">"Woof!"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">CatImplementation</span><span class="p">:</span> <span class="kt">Animal</span><span class="p">,</span> <span class="kt">Cat</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">sound</span><span class="p">()</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="s">"Meow!"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Both implementations of the class can now be <code>@Register</code>:</p>
<pre class="highlight swift"><code><span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">registerDog</span><span class="p">:</span> <span class="kt">Animal</span> <span class="o">=</span> <span class="kt">DogImplementation</span><span class="p">()</span>

<span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">registerCat</span><span class="p">:</span> <span class="kt">Animal</span> <span class="o">=</span> <span class="kt">CatImplementation</span><span class="p">()</span>
</code></pre>

<p>To inject one or the other implementation, simply add the qualifier(s) to your <code>@Inject</code>:</p>
<pre class="highlight swift"><code><span class="kd">@UnwrappedInject(Dog.self)</span>
<span class="k">var</span> <span class="nv">dog</span><span class="p">:</span> <span class="kt">Animal</span>

<span class="kd">@UnwrappedInject(Cat.self)</span>
<span class="k">var</span> <span class="nv">cat</span><span class="p">:</span> <span class="kt">Animal</span>

<span class="n">dog</span><span class="o">.</span><span class="nf">sound</span><span class="p">()</span> <span class="c1">// prints Woof!</span>
<span class="n">cat</span><span class="o">.</span><span class="nf">sound</span><span class="p">()</span> <span class="c1">// prints Meow!</span>
</code></pre>
<h3 id='testing' class='heading'>Testing</h3>

<p>One of the advantages of dependency injection is that the code can be easily testable with mock implementation.
That is why there is a <code><a href="Protocols.html#/c:@M@Inject@objc(pl)Mock">Mock</a></code> qualifier that has priority over all, so you can have your dependencies defined in the app and create your mock in the test target simply by adding this qualifier.</p>
<pre class="highlight swift"><code><span class="c1">// App target</span>

<span class="kd">class</span> <span class="kt">YourImplementation</span><span class="p">:</span> <span class="kt">YourProtocol</span> <span class="p">{}</span>

<span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span> <span class="o">=</span> <span class="kt">YourImplementation</span><span class="p">()</span>

<span class="kd">@Inject</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">?</span>
</code></pre>
<pre class="highlight swift"><code><span class="c1">// Test target</span>

<span class="kd">class</span> <span class="kt">YourMock</span><span class="p">:</span> <span class="kt">YourProtocol</span><span class="p">,</span> <span class="kt">Mock</span> <span class="p">{}</span>

<span class="kd">@Register</span>
<span class="k">var</span> <span class="nv">yourDependency</span><span class="p">:</span> <span class="kt">YourProtocol</span> <span class="o">=</span> <span class="kt">YourMock</span><span class="p">()</span>
</code></pre>
<h2 id='examples' class='heading'>👀 Examples</h2>

<blockquote>
<p>Talk is cheap. Show me the code.</p>
</blockquote>
<pre class="highlight swift"><code>    <span class="c1">// Securely stored in UserDefaults.</span>
    <span class="kd">@UserDefault("username")</span>
    <span class="k">var</span> <span class="nv">username</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>

    <span class="c1">// Securely stored in Keychain.</span>
    <span class="kd">@Keychain("password")</span>
    <span class="k">var</span> <span class="nv">password</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>

    <span class="c1">// Securely stored in a Singleton storage.</span>
    <span class="kd">@Singleton("sessionToken")</span>
    <span class="k">var</span> <span class="nv">sessionToken</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>

    <span class="c1">// Securely stored in a Singleton storage.</span>
    <span class="c1">// Always has a value, the stored or the default.</span>
    <span class="kd">@UnwrappedSingleton("refreshToken")</span>
    <span class="k">var</span> <span class="nv">refreshToken</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"B0610306-A33F"</span>

    <span class="kd">struct</span> <span class="kt">User</span><span class="p">:</span> <span class="kt">Codable</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">username</span><span class="p">:</span> <span class="kt">String</span>
        <span class="k">let</span> <span class="nv">password</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
        <span class="k">let</span> <span class="nv">sessionToken</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="p">}</span>

    <span class="c1">// Codable model securely stored in UserDefaults.</span>
    <span class="kd">@CodableUserDefault("user")</span>
    <span class="k">var</span> <span class="nv">user</span><span class="p">:</span> <span class="kt">User</span><span class="p">?</span>
</code></pre>
<h2 id='compatibility' class='heading'>🛠 Compatibility</h2>

<ul>
<li>macOS 10.15+</li>
<li>iOS 13.0+</li>
<li>iPadOS 13.0+</li>
<li>tvOS 13.0+</li>
<li>watchOS 6.0+</li>
</ul>
<h2 id='️-installation' class='heading'>⚙️ Installation</h2>
<h4 id='you-can-use-the-a-href-https-github-com-apple-swift-package-manager-swift-package-manager-a-by-declaring-securepropertystorage-as-a-dependency-in-your-code-package-swift-code-file' class='heading'>You can use the <a href="https://github.com/apple/swift-package-manager">Swift Package Manager</a> by declaring SecurePropertyStorage as a dependency in your <code>Package.swift</code> file:</h4>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/alexruperez/SecurePropertyStorage"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"0.3.0"</span><span class="p">)</span>
</code></pre>

<p>By default, all property wrappers are installed, but if you want, you can choose only certain products:</p>

<ul>
<li><strong>UserDefault</strong>: @*UserDefault property wrappers.</li>
<li><strong>Keychain</strong>: @*Keychain property wrappers.</li>
<li><strong>Singleton</strong>: @*Singleton property wrappers.</li>
<li><strong>Storage</strong>: @*Store property wrappers.</li>
<li><strong>Inject</strong>: @*Inject property wrappers.</li>
</ul>

<p><em>For more information, see <a href="https://github.com/apple/swift-package-manager/tree/master/Documentation">the Swift Package Manager documentation</a>.</em></p>
<h4 id='or-you-can-use-a-href-https-github-com-carthage-carthage-carthage-a' class='heading'>Or you can use <a href="https://github.com/Carthage/Carthage">Carthage</a>:</h4>
<pre class="highlight plaintext"><code>github "alexruperez/SecurePropertyStorage"
</code></pre>
<h2 id='etc' class='heading'>🍻 Etc.</h2>

<ul>
<li>Featured in <a href="https://twitter.com/daveverwer">Dave Verwer</a>&lsquo;s iOS Dev Weekly - <a href="https://iosdevweekly.com/issues/450?#ll98q5s">Issue 450</a>, thanks Dave!</li>
<li>Contributions are very welcome.</li>
<li>Attribution is appreciated (let&rsquo;s spread the word!), but not mandatory.</li>
</ul>
<h2 id='author' class='heading'>👨‍💻 Author</h2>

<p>Alex Rupérez – <a href="https://twitter.com/alexruperez">@alexruperez</a> – <a href="mailto:me@alexruperez.com">me@alexruperez.com</a></p>
<h2 id='️-license' class='heading'>👮‍♂️ License</h2>

<p><em>SecurePropertyStorage</em> is available under the MIT license. See the <a href="LICENSE">LICENSE</a> file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>Copyright (c) 2020 Alex Rupérez</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
